<?xml version="1.0" encoding="utf-8"?>
<ModMetaData>
	<name>Breach Logic Fix</name>
	<author>1trickPonyta</author>
	<packageId>breachlogicfix.1trickPonyta</packageId>
	<supportedVersions>
		<li>1.3</li>
	</supportedVersions>
	<description>
The new breach raid type doesn't work in certain circumstances due to at least one bug in the game's code and this mod patches it.

If your breach raids are wandering around not doing anything, hanging out in the corner of the map, or giving up and leaving without accomplishing anything, try this mod.

=================================================================

*** Additional information for those who are curious ***

=================================================================

There is one definite bug in the game's code that causes all breach raids to fail on certain maps. Specifically, the following conditions must be met for the breach raid to fail: 
  1. The map has to have caves.
  2. There has to be an undiscovered (fogged) cave containing at least one hive.
  3. That cave has to have an opening at the top or bottom edge of the map.
  
When these conditions are met (obviously this is pretty rare), the game tries to evaluate the non-existent cell adjacent to the map-edge cave opening, out of the map bounds, which causes an error and prevents the entire raid from working correctly.

=================================================================

Note: The following bug has been fixed in the base game and the fix has therefore been removed from this mod.

Another problem that can arise more commonly, due to perhaps some kind of oversight, is that mech breach raids that include at least one Centipede with an Inferno Cannon will sometimes bug out. 

Each time the raid calculates a building (wall, door, etc) to destroy on its path to your base, there is a 20% chance of activating a weird condition centering around one of those Centipedes that causes the Termites to not know where to stand to shoot at the target building. As a result, the entire raid stops advancing and wanders around the immediate area.

=================================================================

(This mod should probably just be a bug report, but I like to fix things and I don't even know how to file a bug report, so here we are.)
	</description>
	<url>https://github.com/1trickPonyta/BreachLogicFix</url>
	<modDependencies>
		<li>
			<packageId>brrainz.harmony</packageId>
			<displayName>Harmony</displayName>
			<steamWorkshopUrl>steam://url/CommunityFilePage/2009463077</steamWorkshopUrl>
			<downloadUrl>https://github.com/pardeike/HarmonyRimWorld/releases/latest</downloadUrl>
		</li>
	</modDependencies>
</ModMetaData>
